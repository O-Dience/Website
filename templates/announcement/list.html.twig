{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} - Liste des annonces{% endblock %}


{% block stylesheets %}
<link href='{{asset('assets/css/announcement_list.css')}}' rel='stylesheet' type='text/css'>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
{% endblock %}

{% block javascript %}
<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
{% endblock %}

{% block body %}


<div class="container" style="margin-top: 20px; margin-bottom: 20px;">
{% for announcement in announcements %}
	<div class="row panel">
		<div class="body__list col-md-4 bg_blur d-none d-md-block">
    	  <div class="d-flex justify-content-around mt-3">
                {% for category in announcement.categories %}
                    
                        <span class="badge badge-secondary"> {{category.label}}</span>
                    
                {% endfor %}
                {% for network in announcement.socialNetworks %}
                    
                        <span class="badge badge-secondary"> {{network.name}}</span>
                    
                {% endfor %}
            </div>
		</div>
        <div class=" body__list col-md-8 col-xs-12">
            <div class="d-flex">
                <div>
                    <img src="http://lorempixel.com/output/people-q-c-100-100-1.jpg" class="img-thumbnail picture hidden-xs" />
                </div>
                <div class="header">    
                    <h1>{{ announcement.title }}</h1>
                    <h4>Publié par {{announcement.user.username }}</h4>
                    <p>{{announcement.content |slice(0,100)}}...</p>
                    <div>
                    {% if announcement.updatedAt  is not empty %}
                    <p class="font-italic text-black-50 d-flex flex-row-reverse"> Annonce modifiée le {{ announcement.updatedAt ? announcement.updatedAt|date('d-m-Y à H:i') : '' }} </p>
                    {% else %}
                    <p class="font-italic text-black-50 d-flex flex-row-reverse"> Publiée le {{ announcement.createdAt ? announcement.createdAt|date('d-m-Y à H:i') : '' }}</p>
                    {% endif %}
                    </div>
                    
                </div>
            </div>
           
        </div>
    </div>   
	<div class="row nav mb-3"> 
        <div class="col-md-6"></div>
        <div class="col-md-6 col-xs-12 row" style="margin: 0px;padding: 0px;">
            <div class="col-md-4 col-xs-4 well"><i class="fa fa-eye fa-3"></i> Consulter l'annonce</div>
            <div class="col-md-4 col-xs-4 well"><i class="fa fa-envelope fa-3"></i> Envoyer un message</div>
            <div class="col-md-4 col-xs-4 well"><i class="fa fa-heart-o fa-lg"></i> Ajouter au favoris</div>
        </div>
    </div>
    {% endfor %}
</div>


{% endblock %}

           